{"version":3,"sources":["App.js","ZombiePreview.js","ZombieCard.js","MyWeb3.js","ZombieArmy.js","MyZombie.js","ZombieMarket.js","ZombieToggler.js","ZombieSimulator.js","ZombieDetail.js","ZombieAttack.js","ContractAdmin.js","Page.js","index.js"],"names":["address_w","ZombiePreview","props","state","zombie","_style","_className","nextProps","this","setState","undefined","filter","dna","job","char_number","_eye","_head","_shirt","substring","className","id","alt","src","style","Component","ZombieCard","zombie2","name","level","rarity","MyWeb3","init","Promise","resolve","reject","ethereum","window","autoRefreshOnNetworkChange","enable","then","accounts","provider","web3","currentProvider","Web3","eth","net","getId","result","currentChainId","setMaxListeners","currentContractAddress","ContractAddress","MyContract","Contract","abi","defaultAccount","toLowerCase","console","log","catch","error","zombieCount","methods","call","zombies","zombieId","zombies2","zombieToOwner","getZombiesByOwner","createZombie","_name","send","from","on","transactionHash","confirmationNumber","receipt","location","reload","buyZombie","zombiePrice","value","attack","_zombieId","_targetId","changeName","feed","levelUp","levelUpFee","zombieFeedTimes","minPrice","utils","fromWei","tax","saleMyZombie","_price","toWei","toString","zombieShop","shopInfo","price","getShopZombies","zombieIds","buyShopZombie","owner","symbol","checkBalance","balance","setAttackVictoryProbability","_attackVictoryProbability","setLevelUpFee","_fee","setMinPrice","_value","setZombiePrice","setTax","withdraw","res","EventNewZombie","events","NewZombie","fromBlock","toBlock","EventSaleZombie","SaleZombie","event","allEvents","subscriptionId","connected_subscriptionId","event_data","event_changed","event_error","ZombieArmy","that","zombieArmy","alert","rando","rando1","rando2","rando3","Math","floor","random","arr1","i","_zombies","push","callback","length","map","item","index","to","key","path","component","Page","MyZombie","zombieName","buyAreaDisp","createAreaDisp","txHashDisp","bind","inputChange","myZombies","input","display","type","placeholder","ref","onChange","onClick","ZombieMarket","shopZombies","_shopZombies","ZombieToggler","handleChange","list","inputValue","target","replace","_list","title","min","max","ZombieSimulator","eye_color","skin","color","_id","authenticated","lesson","lessonidx","Zombiedetail","URLSearchParams","search","get","myPrice","AttackBtn","RenameArea","zombieNewname","FeedArea","LevelupArea","SaleArea","BuyArea","onShop","zombieChangeName","saleZombie","setPrice","getZombie","getZombieFeedTimes","getMinPrice","getZombieShop","parseFloat","zombieOwner","readyTime","moment","format","parseInt","hp","str","def","agi","winCount","lossCount","selectZombie","_active","active","prev_active","buttonTxt","myZombie","myZombieId","zombieAttack","role","targetId","targetZombie","modalDisplay","aria-label","getMyZombies","ContractAdmin","contractAddress","contractOwner","ContractName","ContractSymbol","ContractBalance","attackVictoryProbability","inputAttackVictoryProbability","inputLevelUpFee","inputMinPrice","inputTax","inputZombiePrice","getContractName","getContractSymbol","_address","page","split","ZombieDetail","ZombieAttack","App","AdminArea","state2","a","chainId","myContract","Getter","require","EventEmitter","prototype","_maxListeners","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.88d17c90.chunk.js","sourcesContent":["import React,{Component,Fragment} from 'react'\nimport './static/App.css'\nimport Page from \"./Page\";\nimport Web3 from \"web3\";\nimport abi from './ZombieCore.json'\nimport ContractAddress from './ContractAddress'\n\nimport {\n    BrowserRouter as Router,\n    Route,\n    Link\n  } from \"react-router-dom\"\n\nlet address_w;\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { AdminArea:()=>{return(<Fragment></Fragment>)} }\n        this.state2 = {\n            value:0\n          };\n      \n    }\n    \n async componentDidMount(a) {\n//判断页面是否安装Metamask\n     if (typeof window.ethereum !== 'undefined') {\n    const ethereum = window.ethereum\n    //禁止自动刷新，metamask要求写的\n    ethereum.autoRefreshOnNetworkChange = false\n\n   \n      //第一次链接Metamask\n      const accounts = await ethereum.enable()\n      console.log(accounts)\n      //初始化Provider\n      const provider = window['ethereum']\n      console.log(provider)\n      //获取网络ID\n      console.log(provider.chainId)\n      //实例化Web3\n      const web3 = new Web3(provider)\n      console.log(web3)\n      //定义合约地址\n      const address = \"0xF1cd454c85f075618AfA353421859e54Fed01562\"\n      //实例化合约\n      window.myContract = new web3.eth.Contract(abi.abi,address)\n      console.log(window.myContract)\n      window.defaultAccount = accounts[0].toLowerCase()\n      address_w=window.defaultAccount \n      console.log(\"333++++\"+address_w)\n\n      return(address_w);\n     } \n    }\n    Getter(){\n\n        this.setState({value:address_w})\n      }\n    \n    render() { \n        \n        let AdminArea = this.state.AdminArea\n       \n        return (\n            <div>\n                \n                <button className=\"start-course-btn2\" onClick={() =>this.Getter()}>\n                <span>{address_w}</span> wallet\n                \n                </button>\n\n              \n            <Fragment>\n   \n              \n                <Router>\n                    \n                    <section className=\"zombies-hero no-webp block app-block-intro pt-5 pb-0\">\n\n                        <div className=\"container\">\n                            <div className=\"menu\">\n                                <ul>\n                                    <li>\n                                        <button className=\"start-course-btn\">\n                                            <span><Link to=\"?ZombieArmy\">英雄挑戰</Link></span>\n                                        </button>\n                                    </li>\n                                    <li>\n                                        <button className=\"start-course-btn\">\n                                            <span><Link to=\"?MyZombie\">我的角色</Link></span>\n                                        </button>\n                                    </li>\n                                    <li>\n                                        <button className=\"start-course-btn\">\n                                            <span><Link to=\"?ZombieMarket\">NFT市場</Link></span>\n                                        </button>\n                                    </li>\n                                    <li>\n                                        <button className=\"start-course-btn\">\n                                            <span><Link to=\"?ZombieSimulator\">模擬英雄</Link></span>\n                                        </button>\n                                    </li>\n                                    <AdminArea></AdminArea>\n                                </ul>\n                            </div>\n                        </div>\n                    </section>\n                    <section className=\"zombie-container block bg-walls no-webp\">\n                        <div className=\"container\">\n                            <div className=\"area\">\n                                <Route path=\"*\" component={Page}></Route>\n                            </div>\n                        </div>\n                    </section>\n                </Router>\n            </Fragment>\n            </div>\n            );\n    }\n}\n\n\nexport default App\n","import React,{Component} from 'react'\n\nclass ZombiePreview extends Component  {\n    constructor(props){\n        super(props)\n        this.state = { zombie:this.props.zombie,_style:this.props._style,_className:this.props._className}\n    }\n    UNSAFE_componentWillReceiveProps(nextProps){\n        if(nextProps!==this.props){\n            this.setState({ \n                zombie:nextProps.zombie,\n                _style:nextProps._style,\n                _className:nextProps._className,\n            })\n            return true\n        }else{\n            return false\n        }\n    }\n    render(){\n        var _style = this.state._style || []\n        var _className = this.state._className\n        if(this.state.zombie !== undefined){\n            _style['color'] = {filter:\"hue-rotate(0deg)\"}\n            _style['skin'] = {filter:\"hue-rotate(0deg)\"}\n            _style['eye_color'] = {filter:\"hue-rotate(0deg)\"}\n            _className = \"zombie-parts head-visible-1 eye-visible-1 shirt-visible-1\"\n            if(this.state.zombie.dna !== undefined){\n                var dna = this.state.zombie.dna\n                var job = this.state.zombie.job\n                var char_number = this.state.zombie.char_number\n                var _eye=0\n                var _head=0\n                var _shirt=0\n               \n                if(job == 0 ){\n                 _eye = char_number\n                 _head = 0\n                 _shirt = 0\n                }\n                if(job == 1){\n                 _eye = 0\n                 _head = char_number\n                 _shirt = 0\n\n                }\n                if(job == 2){\n                 _eye = 0\n                 _head = 0\n                 _shirt = char_number\n                }\n                \n                _className = \"zombie-parts head-visible-\"+_head+\" eye-visible-\"+_eye+\" shirt-visible-\"+_shirt\n\n                _style['skin'] = {filter:\"hue-rotate(\"+dna.substring(9,12) % 360 +1+\"deg)\"}\n\n            }\n        }\n        return (\n                    <div className={_className} id=\"zombie-parts\">\n                        {/* <img alt=\"\" src=\"./catlegs.png\" className=\"cat-legs\" style={{filter:\"hue-rotate(0deg); display: none\"}}/> */}\n                        <img alt=\"\" src=\"./shirt-1@2x.png\" className=\"shirt shirt-part-1\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./shirt-2@2x.gif\" className=\"shirt shirt-part-2\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./shirt-3@2x.gif\" className=\"shirt shirt-part-3\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./shirt-4@2x.gif\" className=\"shirt shirt-part-4\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./shirt-5@2x.gif\" className=\"shirt shirt-part-5\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./shirt-6@2x.gif\" className=\"shirt shirt-part-6\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./shirt-7@2x.gif\" className=\"shirt shirt-part-7\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-1@2x.png\" className=\"head head-part-1\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-2@2x.gif\" className=\"head head-part-2\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-3@2x.gif\" className=\"head head-part-3\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-4@2x.gif\" className=\"head head-part-4\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-5@2x.gif\" className=\"head head-part-5\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-6@2x.gif\" className=\"head head-part-6\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./head-7@2x.gif\" className=\"head head-part-7\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-1@2x.png\" className=\"eye eye-part-1\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-2@2x.gif\" className=\"eye eye-part-2\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-3@2x.gif\" className=\"eye eye-part-3\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-4@2x.gif\" className=\"eye eye-part-4\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-5@2x.gif\" className=\"eye eye-part-5\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-6@2x.gif\" className=\"eye eye-part-6\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-7@2x.gif\" className=\"eye eye-part-7\" style={_style['skin']}/>\n                        <img alt=\"\" src=\"./eyes-8@2x.gif\" className=\"eye eye-part-8\" style={_style['skin']}/>\n                    </div>\n        );\n      }\n    }\n    \n    \nexport default ZombiePreview;\n","import React, { Component } from 'react';\r\nimport ZombiePreview from \"./ZombiePreview\"\r\n\r\nclass ZombieCard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = { zombie:this.props.zombie,zombie2:this.props.zombie2,name:this.props.name,level:this.props.level}\r\n       \r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps){\r\n        if(nextProps!==this.props){\r\n            this.setState({ _className:nextProps._className,_style:nextProps._style})\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    render() { \r\n        /*console.log(this.state.zombie.rarity)*/\r\n        var rarity = this.state.zombie.rarity\r\n        if (rarity==0){\r\n        return ( \r\n            <div className=\"game-card home-card selectable\">\r\n                <div className=\"zombie-char\">\r\n                <ZombiePreview zombie={this.state.zombie}></ZombiePreview>\r\n                    <div className=\"zombie-card card bg-shaded\">\r\n                        <div className=\"card-header bg-dark hide-overflow-text\">\r\n                            <strong>ID:{this.state.name}</strong>\r\n                        </div>\r\n                        <small className=\"hide-overflow-text\">英雄LV{this.state.level}</small>\r\n                    </div>\r\n                </div>\r\n            </div>            \r\n        )\r\n        }\r\n        if (rarity==1){\r\n            return ( \r\n                <div className=\"game-card home-card2 selectable\">\r\n                    <div className=\"zombie-char\">\r\n                    <ZombiePreview zombie={this.state.zombie}></ZombiePreview>\r\n                        <div className=\"zombie-card card bg-shaded\">\r\n                            <div className=\"card-header bg-dark hide-overflow-text\">\r\n                                <strong>ID:{this.state.name}</strong>\r\n                            </div>\r\n                            <small className=\"hide-overflow-text\">英雄LV{this.state.level}</small>\r\n                        </div>\r\n                    </div>\r\n                </div>            \r\n            )\r\n            }\r\n            if (rarity==2){\r\n                return ( \r\n                    <div className=\"game-card home-card3 selectable\">\r\n                        <div className=\"zombie-char\">\r\n                        <ZombiePreview zombie={this.state.zombie}></ZombiePreview>\r\n                            <div className=\"zombie-card card bg-shaded\">\r\n                                <div className=\"card-header bg-dark hide-overflow-text\">\r\n                                    <strong>ID:{this.state.name}</strong>\r\n                                </div>\r\n                                <small className=\"hide-overflow-text\">英雄LV{this.state.level}</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>            \r\n                )\r\n                }\r\n                if (rarity==3){\r\n                    return ( \r\n                        <div className=\"game-card home-card4 selectable\">\r\n                            <div className=\"zombie-char\">\r\n                            <ZombiePreview zombie={this.state.zombie}></ZombiePreview>\r\n                                <div className=\"zombie-card card bg-shaded\">\r\n                                    <div className=\"card-header bg-dark hide-overflow-text\">\r\n                                        <strong>ID:{this.state.name}</strong>\r\n                                    </div>\r\n                                    <small className=\"hide-overflow-text\">英雄LV{this.state.level}</small>\r\n                                </div>\r\n                            </div>\r\n                        </div>            \r\n                    )\r\n                    }\r\n    }\r\n}\r\n \r\nexport default ZombieCard;","import Web3 from \"web3\";\r\nimport abi from './ZombieCore.json'\r\nimport ContractAddress from './ContractAddress'\r\n\r\nconst MyWeb3 ={\r\n    init() {\r\n        /*\r\n        '1': Ethereum Main Network\r\n        '2': Morden Test network\r\n        '3': Ropsten Test Network\r\n        '4': Rinkeby Test Network\r\n        '5': Goerli Test Network\r\n        '42': Kovan Test Network\r\n        */\r\n        return new Promise((resolve, reject) => {\r\n            //let currentChainId = parseInt(window.ethereum.chainId, 16)\r\n            let ethereum = window.ethereum\r\n            //禁止自动刷新，metamask要求写的\r\n            ethereum.autoRefreshOnNetworkChange = false\r\n            //开始调用metamask\r\n            ethereum.enable().then(function (accounts) {\r\n                //初始化provider\r\n                let provider = window['ethereum'] || window.web3.currentProvider\r\n                //初始化Web3\r\n                window.web3 = new Web3(provider)\r\n                //获取到当前以太坊网络id\r\n                window.web3.eth.net.getId().then(function (result) {\r\n                    let currentChainId = result\r\n                    //设置最大监听器数量，否则出现warning\r\n                    window.web3.currentProvider.setMaxListeners(300)\r\n                    //从json获取到当前网络id下的合约地址\r\n                    let currentContractAddress = ContractAddress[currentChainId]\r\n                    if(currentContractAddress !== undefined){\r\n                        //实例化合约\r\n                        window.MyContract = new window.web3.eth.Contract(abi.abi,currentContractAddress)\r\n                        //获取到当前默认的以太坊地址\r\n                        window.defaultAccount = accounts[0].toLowerCase()\r\n                        //that.allEvents(window.MyContract)\r\n                        resolve(true)\r\n\r\n                        console.log(\"accountsChanged2:\" + currentContractAddress)\r\n\r\n                    }else{\r\n                        reject('Unknow Your ChainId:'+currentChainId)\r\n                    }\r\n                })\r\n            }).catch(function (error) {\r\n                console.log(error)\r\n            })\r\n        })\r\n    },\r\n    //僵尸总量\r\n    zombieCount() {\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombieCount().call().then(function(zombieCount) {\r\n                resolve(zombieCount)\r\n            })\r\n        })\r\n    },\r\n    //获得单个僵尸数据\r\n    zombies(zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            if(zombieId>=0){\r\n                window.MyContract.methods.zombies(zombieId).call().then(function(zombies) {\r\n                    resolve(zombies)\r\n                })\r\n            }\r\n        })\r\n    },\r\n    //获得单个僵尸数据2\r\n    zombies2(zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            if(zombieId>=0){\r\n                window.MyContract.methods.zombies2(zombieId).call().then(function(zombies2) {\r\n                    resolve(zombies2)\r\n                })\r\n            }\r\n        })\r\n    },\r\n    //获得僵尸拥有者地址\r\n    zombieToOwner(zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            if(zombieId>=0){\r\n                window.MyContract.methods.zombieToOwner(zombieId).call().then(function(zombies) {\r\n                    resolve(zombies.toLowerCase())\r\n                })\r\n            }\r\n        })\r\n    },\r\n    //获得当前用户的所有僵尸id\r\n    getZombiesByOwner(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.getZombiesByOwner(window.defaultAccount).call().then(function(zombies) {\r\n                resolve(zombies)\r\n            })\r\n        })\r\n    },\r\n    //创建随机僵尸\r\n    createZombie(_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.createZombie(_name).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //购买僵尸\r\n    buyZombie(_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombiePrice().call().then(function(zombiePrice) {\r\n                window.MyContract.methods.buyZombie(_name).send({from:window.defaultAccount,value:zombiePrice})\r\n                .on('transactionHash', function(transactionHash){\r\n                    resolve(transactionHash)\r\n                })\r\n                .on('confirmation', function(confirmationNumber, receipt){\r\n                    console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n                })\r\n                .on('receipt', function(receipt){\r\n                    console.log({receipt:receipt})\r\n                    window.location.reload()\r\n                })\r\n                .on('error', function(error,receipt){\r\n                    console.log({error:error,receipt:receipt})\r\n                    reject({error:error,receipt:receipt})\r\n                })\r\n            })\r\n        })\r\n    },\r\n    //僵尸对战\r\n    attack(_zombieId,_targetId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.attack(_zombieId,_targetId).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //僵尸改名\r\n    changeName(_zombieId,_name){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.changeName(_zombieId,_name).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //僵尸喂食\r\n    feed(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.feed(_zombieId).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //僵尸付费升级\r\n    levelUp(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.levelUpFee().call().then(function(levelUpFee) {\r\n                window.MyContract.methods.levelUp(_zombieId).send({from:window.defaultAccount,value:levelUpFee})\r\n                .on('transactionHash', function(transactionHash){\r\n                    resolve(transactionHash)\r\n                })\r\n                .on('confirmation', function(confirmationNumber, receipt){\r\n                    console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n                })\r\n                .on('receipt', function(receipt){\r\n                    console.log({receipt:receipt})\r\n                    window.location.reload()\r\n                })\r\n                .on('error', function(error,receipt){\r\n                    console.log({error:error,receipt:receipt})\r\n                    reject({error:error,receipt:receipt})\r\n                })\r\n            })\r\n        })\r\n    },\r\n    //获取僵尸喂食次数\r\n    zombieFeedTimes(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombieFeedTimes(_zombieId).call().then(function(zombieFeedTimes) {\r\n                resolve(zombieFeedTimes)\r\n            })\r\n        })\r\n    },\r\n    //获取最低售价\r\n    minPrice(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.minPrice().call().then(function(minPrice) {\r\n                resolve(window.web3.utils.fromWei(minPrice,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //获取税金\r\n    tax(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.tax().call().then(function(tax) {\r\n                resolve(window.web3.utils.fromWei(tax,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //出售我的僵尸\r\n    saleMyZombie(_zombieId,_price){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.saleMyZombie(_zombieId,window.web3.utils.toWei(_price.toString())).send({from:window.defaultAccount})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //获得商店里僵尸数据\r\n    zombieShop(_zombieId){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombieShop(_zombieId).call().then(function(shopInfo) {\r\n                shopInfo.price = window.web3.utils.fromWei(shopInfo.price,'ether')\r\n                resolve(shopInfo)\r\n            })\r\n        })\r\n    },\r\n    //获得商店所有僵尸\r\n    getShopZombies(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.getShopZombies().call().then(function(zombieIds) {\r\n                resolve(zombieIds)\r\n            })\r\n        })\r\n    },\r\n    //购买商店里的僵尸\r\n    buyShopZombie(_zombieId,_price){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.buyShopZombie(_zombieId).send({from:window.defaultAccount,value:window.web3.utils.toWei(_price.toString())})\r\n            .on('transactionHash', function(transactionHash){\r\n                resolve(transactionHash)\r\n            })\r\n            .on('confirmation', function(confirmationNumber, receipt){\r\n                console.log({confirmationNumber:confirmationNumber,receipt:receipt})\r\n            })\r\n            .on('receipt', function(receipt){\r\n                console.log({receipt:receipt})\r\n                window.location.reload()\r\n            })\r\n            .on('error', function(error,receipt){\r\n                console.log({error:error,receipt:receipt})\r\n                reject({error:error,receipt:receipt})\r\n            })\r\n        })\r\n    },\r\n    //获得合约拥有者地址\r\n    owner(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.owner().call().then(function(owner) {\r\n                resolve(owner.toLowerCase())\r\n            })\r\n        })\r\n    },\r\n    //获得合约名称\r\n    name(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.name().call().then(function(name) {\r\n                resolve(name)\r\n            })\r\n        })\r\n    },\r\n    //获得合约标识\r\n    symbol(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.symbol().call().then(function(symbol) {\r\n                resolve(symbol)\r\n            })\r\n        })\r\n    },\r\n    //查询余额\r\n    checkBalance(){\r\n        return new Promise((resolve, reject) => {\r\n            this.owner().then(function (owner) {\r\n                if(window.defaultAccount === owner){\r\n                    window.MyContract.methods.checkBalance().call({from:window.defaultAccount}).then(function(balance) {\r\n                        resolve(window.web3.utils.fromWei(balance,'ether'))\r\n                    })\r\n                }else{\r\n                    reject('You are not contract owner')\r\n                }\r\n            })\r\n        })\r\n    },\r\n    //设置攻击胜率\r\n    setAttackVictoryProbability(_attackVictoryProbability){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setAttackVictoryProbability(_attackVictoryProbability).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //获得升级费\r\n    levelUpFee(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.levelUpFee().call().then(function(levelUpFee) {\r\n                resolve(window.web3.utils.fromWei(levelUpFee,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //设置升级费\r\n    setLevelUpFee(_fee){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setLevelUpFee(window.web3.utils.toWei(_fee.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //设置最低售价\r\n    setMinPrice(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setMinPrice(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //获得僵尸售价\r\n    zombiePrice(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.zombiePrice().call().then(function(zombiePrice) {\r\n                resolve(window.web3.utils.fromWei(zombiePrice,'ether'))\r\n            })\r\n        })\r\n    },\r\n    //设置僵尸售价\r\n    setZombiePrice(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setZombiePrice(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //设置税金\r\n    setTax(_value){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.methods.setTax(window.web3.utils.toWei(_value.toString())).send({from:window.defaultAccount})\r\n            .then(function(result) {\r\n                resolve(result)\r\n            })\r\n        })\r\n    },\r\n    //提款\r\n    withdraw(){\r\n        return new Promise((resolve, reject) => {\r\n            this.owner().then(function (owner) {\r\n                if(window.defaultAccount === owner){\r\n                    window.MyContract.methods.withdraw().send({from:window.defaultAccount}).then(function(res) {\r\n                        resolve(res)\r\n                    })\r\n                }else{\r\n                    reject('You are not contract owner')\r\n                }\r\n            })\r\n        })\r\n    },\r\n    //新僵尸事件\r\n    EventNewZombie(){\r\n        return window.MyContract.events.NewZombie({},{fromBlock: 0, toBlock: 'latest'})\r\n    },\r\n    //出售僵尸事件\r\n    EventSaleZombie(){\r\n        return new Promise((resolve, reject) => {\r\n            window.MyContract.events.SaleZombie({fromBlock: 0, toBlock: 'latest'},function (error, event) {\r\n                resolve(event)\r\n            })\r\n        })\r\n    },\r\n    //所有事件\r\n    allEvents(){\r\n        window.MyContract.events.allEvents({fromBlock: 0}, function(error, event){\r\n            console.log({allEvents:event})\r\n        }).on(\"connected\", function(subscriptionId){\r\n           console.log({connected_subscriptionId:subscriptionId})\r\n        }).on('data', function(event){\r\n           console.log({event_data:event})\r\n        }).on('changed', function(event){\r\n            console.log({event_changed:event})\r\n        }).on('error', function(error, receipt) { \r\n            console.log({event_error:error,receipt:receipt})\r\n        })\r\n    }\r\n}\r\n    \r\nexport default MyWeb3;","import React, { Component } from 'react'\r\nimport ZombieCard from \"./ZombieCard\";\r\nimport './static/ZombiePreview.css';\r\nimport MyWeb3 from './MyWeb3'\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport Page from \"./Page\";\r\n\r\nclass ZombieArmy extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = { zombieCount:\"\",zombies:[] }\r\n    }\r\n        \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.zombieArmy()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    zombieArmy(){\r\n        let that = this\r\n        var rando \r\n        var rando1 \r\n        var rando2 \r\n        var rando3 \r\n        MyWeb3.zombieCount().then(function(result){\r\n         rando=Math.floor(Math.random()*result);\r\n         rando1=Math.floor(Math.random()*result);\r\n         rando2=Math.floor(Math.random()*result);\r\n         rando3=Math.floor(Math.random()*result);\r\n         const arr1 = [rando, rando1, rando2,rando3]; \r\n            if(result > 0){\r\n                for(let i=0;i<result;i++){\r\n                    MyWeb3.zombies(arr1[i]).then(function (result) {\r\n                        let _zombies = that.state.zombies\r\n                        result.zombieId = arr1[i]\r\n                        _zombies.push(result);\r\n                        that.setState({zombies:_zombies})\r\n                    })\r\n                }\r\n               \r\n                /*console.log('result='+result)\r\n                console.log('rando='+rando)\r\n                console.log('rando1='+rando1)\r\n                console.log('rando2='+rando2)\r\n                console.log('rando3='+rando3)*/\r\n            }\r\n        })\r\n    }\r\n    componentWillUnmount() {\r\n        this.setState = (state, callback) => {\r\n            return\r\n        }\r\n    }\r\n    render() { \r\n        if(this.state.zombies.length>0) {\r\n            return ( \r\n\r\n                   \r\n                <div className=\"cards\">\r\n                    {this.state.zombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={`?ZombieDetail&id=`+item.zombieId} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"*\" component={Page}></Route>\r\n\r\n                </div> \r\n                 \r\n          \r\n            )\r\n        }else{\r\n            return ( <div></div>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default ZombieArmy;","import React, { Component } from 'react'\r\nimport ZombieCard from \"./ZombieCard\"\r\nimport './static/ZombiePreview.css'\r\nimport Page from \"./Page\"\r\nimport MyWeb3 from './MyWeb3'\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\n\r\nclass MyZombie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {zombieCount:\"\",zombies:[],zombies2:[],zombieName:'',transactionHash:'',buyAreaDisp:1,createAreaDisp:1,txHashDisp:0}\r\n        this.createZombie=this.createZombie.bind(this)\r\n        this.buyZombie=this.buyZombie.bind(this)\r\n        this.inputChange=this.inputChange.bind(this)\r\n    }\r\n        \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.myZombies()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    \r\n    myZombies(){\r\n        let that = this\r\n        MyWeb3.getZombiesByOwner().then(function(zombies){\r\n            if(zombies.length > 0){\r\n                for(let i=0;i<zombies.length;i++){\r\n                    MyWeb3.zombies(zombies[i]).then(function (result) {\r\n                        let _zombies = that.state.zombies\r\n                        result.zombieId = zombies[i]\r\n                        _zombies.push(result);\r\n                        that.setState({zombies:_zombies})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    createZombie(){\r\n        let that = this\r\n        let _name = this.state.zombieName\r\n        MyWeb3.createZombie(_name).then(function(transactionHash){\r\n            that.setState({\r\n                transactionHash:transactionHash,\r\n                createAreaDisp:0,\r\n                txHashDisp:1\r\n            })\r\n        })\r\n    }\r\n    buyZombie(){\r\n        let that = this\r\n        let _name = this.state.zombieName\r\n        MyWeb3.buyZombie(_name).then(function(transactionHash){\r\n            that.setState({\r\n                transactionHash:transactionHash,\r\n                buyAreaDisp:0,\r\n                txHashDisp:1\r\n            })\r\n        })\r\n    }\r\n    inputChange(){\r\n        this.setState({\r\n            zombieName:this.input.value\r\n        })\r\n    }\r\n\r\n\r\n    render() {\r\n        if(this.state.zombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.zombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={`?ZombieDetail&id=`+item.zombieId} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"*\" component={Page}></Route>\r\n                    <div className='buyArea' display={this.state.buyAreaDisp}>\r\n                        <div className='zombieInput'>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='zombieName' \r\n                                placeholder='給英雄ID' \r\n                                ref={(input)=>{this.input=input}} \r\n                                value={this.state.zombieName}\r\n                                onChange={this.inputChange}>\r\n                            </input>\r\n                        </div>\r\n                        <div>\r\n                            <button className=\"attack-btn\" onClick={this.buyZombie}>\r\n                                <span>\r\n                                    購買英雄\r\n                                </span>\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    <div className='transactionHash' display={this.state.txHashDisp}>{this.state.transactionHash}<br></br>等待确认中...</div>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(<div>\r\n                <div className='createArea' display={this.state.createAreaDisp}>\r\n                    <div className='zombieInput'>\r\n                        <input \r\n                            type=\"text\" \r\n                            id='zombieName' \r\n                            placeholder='給英雄ID' \r\n                            ref={(input)=>{this.input=input}} \r\n                            value={this.state.zombieName}\r\n                            onChange={this.inputChange}>\r\n                        </input>\r\n                    </div>\r\n                    <div>\r\n                        <button className=\"attack-btn\" onClick={this.buyZombie}>\r\n                            <span>\r\n                                購買英雄 \r\n                            </span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <div className='transactionHash' display={this.state.txHashDisp}>{this.state.transactionHash}<br></br>等待確認中...</div>\r\n            </div>)\r\n        }\r\n    }\r\n}  \r\nexport default MyZombie;","import React, { Component } from 'react';\r\nimport MyWeb3 from './MyWeb3'\r\nimport ZombieCard from \"./ZombieCard\";\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\nimport Page from \"./Page\";\r\n\r\nclass ZombieMarket extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {shopZombies:[]  }\r\n    }\r\n     \r\n    componentDidMount(){\r\n        //console.log(window.web3._extend.utils)\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.zombieShop()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n\r\n    zombieShop(){\r\n        let that = this\r\n        MyWeb3.getShopZombies().then(function(zombieIds){\r\n            if(zombieIds.length>0){\r\n                for(var i=0;i<zombieIds.length;i++){\r\n                    let zombieId = zombieIds[i]\r\n                    if(zombieId>=0){\r\n                        MyWeb3.zombies(zombieId).then(function(zombies) {\r\n                            let _shopZombies = that.state.shopZombies\r\n                            zombies.zombieId = zombieId\r\n                            _shopZombies.push(zombies);\r\n                            that.setState({shopZombies:_shopZombies})\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n    \r\n    render() { \r\n        if(this.state.shopZombies.length>0) {\r\n            return ( \r\n                <div className=\"cards\">\r\n                    {this.state.shopZombies.map((item,index)=>{\r\n                        var name = item.name\r\n                        var level = item.level\r\n                        return(\r\n                            <Link to={`?ZombieDetail&id=`+item.zombieId} key={index}>\r\n                                <ZombieCard zombie={item} name={name} level={level} key={index}></ZombieCard>\r\n                            </Link>\r\n                        )\r\n                    })}\r\n                    <Route path=\"*\" component={Page}></Route>\r\n                </div> \r\n            )\r\n        }else{\r\n            return ( <div></div>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default ZombieMarket;","import React,{Component,Fragment} from 'react'\n\n\nclass ZombieToggler extends Component  {\n    constructor(props){\n        super(props)\n        this.handleChange=this.handleChange.bind(this)\n        this.state = { list: [\n                {\n                    \"name\":\"head\",\n                    \"title\":\"法師角色\",\n                    \"max\":7\n                },{\n                    \"name\":\"eye\",\n                    \"title\":\"戰士角色\",\n                    \"max\":8\n                },{\n                    \"name\":\"shirt\",\n                    \"title\":\"弓手角色\",\n                    \"max\":7\n                },{\n                    \"name\":\"skin\",\n                    \"title\":\"皮膚顏色\",\n                    \"max\":360\n                }\n            ],inputValue:[]\n        }\n    }\n    handleChange(event){\n        var id = event.target.id.replace(/_select/,\"\")\n        var _list = this.state.inputValue\n        _list[id] = event.target.value;\n        this.setState({\n            inputValue:_list\n        })\n        this.props.handleChange(event);\n    }\n    render() {\n        return (\n            <div  className=\"zombie-toggle col mt-lg-5 pt-4\" id=\"zombie-toggle\">\n                <fieldset id=\"zombie-toggler\"  className=\"form-group col mt-lg-5 pt-lg-5\" >\n                    <div >\n                        {this.state.list.map((item,index)=>{\n                            return(<Fragment key={index}>\n                                <label>{item.title}:<code></code></label>\n                                <input  type=\"range\" min=\"1\" max={item.max} className=\"custom-range\" id={`${item.name}_select`} value={this.state.inputValue[item.name]||1}  onChange={this.handleChange}/>\n                                </Fragment>)\n                        })}            \n                    </div>\n                </fieldset>\n            </div>\n        );\n    }\n}\n\nexport default ZombieToggler;\n","import React,{Component} from 'react'\nimport './static/ZombiePreview.css';\nimport  ZombiePreview  from \"./ZombiePreview\";\nimport  ZombieToggler  from \"./ZombieToggler\";\n\n\n\nclass ZombieSimulator extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            _value:{\n                \"head\":1,\n                \"eye\":1,\n                \"shirt\":1\n            },\n            _className:\"zombie-parts head-visible-1 eye-visible-1 shirt-visible-1\",\n            _style:{\n                eye_color:{filter:\"hue-rotate(0deg)\"},\n                skin:{filter:\"hue-rotate(0deg)\"},\n                color:{filter:\"hue-rotate(0deg)\"},\n            }\n        };\n        this.handleChange = this.handleChange.bind(this);\n    }\n    \n    handleChange(event) {\n        var _id = event.target.id.replace(/_select/,\"\");\n\n        var _value = this.state._value\n        var _className = this.state._className\n        var _style = this.state._style\n        _value[_id] = event.target.value;\n\n        if(_id === \"head\" || _id === \"eye\" || _id === \"shirt\"){\n            _className = \"zombie-parts head-visible-\"+ _value[\"head\"] +\" eye-visible-\"+ _value[\"eye\"] +\" shirt-visible-\" + _value[\"shirt\"];\n        }else{\n            _style[_id] = {filter:\"hue-rotate(\"+_value[_id]+\"deg)\"}\n        }\n        this.setState({_className,_style,_value});\n    }\n    render() {\n        return  <div className=\"App\">\n        <div className=\"row zombie-parts-bin-component zombie-simulator\" authenticated=\"true\" lesson=\"1\" lessonidx=\"1\">\n            <div  className=\"zombie-preview\" id=\"zombie-preview\">\n                <div className=\"zombie-char\">\n                    <ZombiePreview _style={this.state._style} _className={this.state._className} _value={this.state._value}></ZombiePreview>\n                </div>\n            </div>\n            <ZombieToggler handleChange={this.handleChange}></ZombieToggler>\n        </div>\n    </div>;\n    }\n}\n\n\n\nexport default ZombieSimulator\n","import React, { Component } from 'react'\r\nimport ZombiePreview from \"./ZombiePreview\"\r\nimport './static/ZombiePreview.css'\r\nimport MyWeb3 from './MyWeb3'\r\nimport moment from \"moment\"\r\nimport {\r\n    BrowserRouter as \r\n    Route,\r\n    Link\r\n  } from \"react-router-dom\"\r\n  import Page from \"./Page\";\r\n\r\nclass Zombiedetail extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        const searchParams = new URLSearchParams(window.location.search)\r\n        \r\n        const id = searchParams.get('id')   \r\n        this.state = {\r\n            id:id ,\r\n            zombie:{},owner:'',\r\n            zombieFeedTimes:0,\r\n            myPrice:0,\r\n            minPrice:0,\r\n            AttackBtn: () =>{return(<div></div>)}, \r\n            RenameArea: () =>{return(<div></div>)},\r\n            zombieNewname:'',\r\n            FeedArea: () =>{return(<div></div>)},\r\n            LevelupArea: () =>{return(<div></div>)},\r\n            SaleArea: () =>{return(<div></div>)},\r\n            BuyArea: () =>{return(<div></div>)},\r\n            onShop:false,\r\n            shopInfo:{}\r\n        }\r\n        this.zombieChangeName = this.zombieChangeName.bind(this)\r\n        this.changeName = this.changeName.bind(this)\r\n        this.feed = this.feed.bind(this)\r\n        this.levelUp = this.levelUp.bind(this)\r\n        this.saleZombie = this.saleZombie.bind(this)\r\n        this.buyShopZombie = this.buyShopZombie.bind(this)\r\n        this.setPrice = this.setPrice.bind(this)\r\n    }\r\n     \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.getZombie(that.state.id)\r\n                that.getZombieFeedTimes(that.state.id)\r\n                that.getMinPrice()\r\n                that.getZombieShop(that.state.id)\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    getZombieShop(zombieId){\r\n        let that = this\r\n        MyWeb3.zombieShop(zombieId).then(function (shopInfo) {\r\n            if(shopInfo.price>0){\r\n                that.setState({onShop:true,shopInfo:shopInfo})\r\n            }\r\n        })\r\n    }\r\n    getMinPrice(){\r\n        let that = this\r\n        MyWeb3.minPrice().then(function (minPrice) {\r\n            if(minPrice>0){\r\n                MyWeb3.tax().then(function (tax) {\r\n                    if(tax>0){\r\n                        that.setState({myPrice:parseFloat(minPrice)+parseFloat(tax),minPrice:parseFloat(minPrice)+parseFloat(tax)})\r\n                    }\r\n                })\r\n            }\r\n        })\r\n    }\r\n    getZombieFeedTimes(zombieId){\r\n        let that = this\r\n        MyWeb3.zombieFeedTimes(zombieId).then(function (result) {\r\n            if(result>0){\r\n                that.setState({zombieFeedTimes:result})\r\n            }\r\n        })\r\n    }\r\n    setPrice(event){\r\n        this.setState({\r\n            myPrice:event.target.value\r\n        })\r\n    }\r\n    zombieChangeName(event){\r\n        this.setState({\r\n            zombieNewname:event.target.value\r\n        })\r\n    }\r\n    changeName(){\r\n        let that = this\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.changeName(this.state.id,this.state.zombieNewname)\r\n            .then(function(transactionHash){\r\n                that.setState({RenameArea : () =>{\r\n                    return(<div>{transactionHash}</div>)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n    feed(){\r\n        let that = this\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.feed(this.state.id)\r\n            .then(function(transactionHash){\r\n                that.setState({FeedArea : () =>{\r\n                    return(<div>{transactionHash}</div>)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n    levelUp(){\r\n        let that = this\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.levelUp(this.state.id)\r\n            .then(function(transactionHash){\r\n                that.setState({LevelupArea : () =>{\r\n                    return(<div>{transactionHash}</div>)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n    saleZombie(){\r\n        let that = this\r\n        if(window.defaultAccount !== undefined \r\n            && this.state.myPrice*this.state.minPrice>0 \r\n            && this.state.myPrice>=this.state.minPrice){\r\n            MyWeb3.saleMyZombie(this.state.id,this.state.myPrice)\r\n            .then(function(transactionHash){\r\n                that.setState({SaleArea : () =>{\r\n                    return(<div>{transactionHash}</div>)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n    buyShopZombie(){\r\n        let that = this\r\n        if(window.defaultAccount !== undefined){\r\n            MyWeb3.buyShopZombie(this.state.id,this.state.shopInfo.price)\r\n            .then(function(transactionHash){\r\n                that.setState({BuyArea : () =>{\r\n                    return(<div>{transactionHash}</div>)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n    getZombie(zombieId){\r\n        let that = this\r\n        MyWeb3.zombies(zombieId).then(function (result) {\r\n            that.setState({zombie:result})\r\n            that.setState({zombieNewname:result.name})\r\n            MyWeb3.zombieToOwner(zombieId).then(function (zombieOwner) {\r\n                that.setState({owner:zombieOwner})\r\n                if(window.defaultAccount !== undefined &&\r\n                    zombieOwner !== window.defaultAccount){\r\n                    that.setState({AttackBtn : () =>{\r\n                        return(\r\n                        <button className=\"attack-btn\">\r\n                            <span>\r\n                                <Link to={`?ZombieAttack&id=`+that.state.id} >發起挑戰</Link>\r\n                            </span>\r\n                        </button>)\r\n                        }\r\n                    })\r\n                    if(that.state.onShop){\r\n                        that.setState({BuyArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <div className='zombieInput'>\r\n                                        售價：{that.state.shopInfo.price} BNB\r\n                                    </div>\r\n                                    <div>\r\n                                        <button className=\"pay-btn pay-btn-last\" onClick={that.buyShopZombie}>\r\n                                            <span>\r\n                                                購買\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                }else{\r\n                    that.setState({AttackBtn : () =>{return(<div></div>)}})\r\n                    if(that.state.zombie.level > 1){\r\n                        that.setState({RenameArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <div className='zombieInput'>\r\n                                        <input \r\n                                            type=\"text\" \r\n                                            id='zombieName' \r\n                                            placeholder={that.state.zombie.name} \r\n                                            value={that.state.zombieNewname}\r\n                                            onChange={that.zombieChangeName}>\r\n                                        </input>\r\n                                    </div>\r\n                                    <div>\r\n                                        <button className=\"pay-btn pay-btn-last\" onClick={that.changeName}>\r\n                                            <span>\r\n                                                改個名字\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>)\r\n                            }\r\n                        })\r\n                    }\r\n                    if(that.state.zombie.readyTime === 0 || moment().format('X')>that.state.zombie.readyTime){\r\n                        that.setState({FeedArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <button className=\"pay-btn\" onClick={that.feed}>\r\n                                        <span>\r\n                                            餵食食物\r\n                                        </span>\r\n                                    </button>\r\n                                </div>)\r\n                            }\r\n                        })\r\n                    }\r\n                    that.setState({LevelupArea : () =>{\r\n                        return(\r\n                            <div>\r\n                                <button className=\"pay-btn\" onClick={that.levelUp}>\r\n                                    <span>\r\n                                        付费升级\r\n                                    </span>\r\n                                </button>\r\n                            </div>)\r\n                        }\r\n                    })\r\n                    if(!that.state.onShop){\r\n                        that.setState({SaleArea : () =>{\r\n                            return(\r\n                                <div>\r\n                                    <div className='zombieInput'>\r\n                                        <input \r\n                                            type=\"text\" \r\n                                            id='salePrice' \r\n                                            placeholder={that.state.minPrice} \r\n                                            value={that.state.myPrice}\r\n                                            onChange={that.setPrice}>\r\n                                        </input>\r\n                                    </div>\r\n                                    <div>\r\n                                        <button className=\"pay-btn pay-btn-last\" onClick={that.saleZombie}>\r\n                                            <span>\r\n                                                賣掉英雄\r\n                                            </span>\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                                )\r\n                            }\r\n                        })\r\n                    }\r\n                } \r\n            })\r\n        })\r\n    }\r\n\r\n    render() { \r\n        var readyTime = '已冷卻'                                \r\n        if(this.state.zombie.readyTime !== undefined && moment().format('X')<this.state.zombie.readyTime){\r\n            readyTime = moment(parseInt(this.state.zombie.readyTime)*1000).format('YYYY-MM-DD')\r\n        }\r\n        var AttackBtn = this.state.AttackBtn\r\n        var RenameArea = this.state.RenameArea\r\n        var FeedArea = this.state.FeedArea\r\n        var LevelupArea = this.state.LevelupArea\r\n        var SaleArea = this.state.SaleArea\r\n        var BuyArea = this.state.BuyArea\r\n        return ( \r\n            <div className=\"App\">\r\n                <div  className=\"row zombie-parts-bin-component\" authenticated=\"true\" lesson=\"1\" lessonidx=\"1\">\r\n                    <div  className=\"zombie-preview\" id=\"zombie-preview\">\r\n                        <div className=\"zombie-char\">\r\n                            <div className=\"zombie-loading zombie-parts\" style={{display:\"none\"}}></div>\r\n                                <ZombiePreview zombie={this.state.zombie}></ZombiePreview>\r\n                            <div className=\"hide\">\r\n                                <div className=\"card-header bg-dark hide-overflow-text\">t\r\n                                    <strong ></strong></div>\r\n                                <small className=\"hide-overflow-text\">CryptoZombie第一级</small>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"zombie-detail\">\r\n                        <dl>\r\n                            <dt>{this.state.zombie.name}</dt>\r\n                            <dt>主人</dt>\r\n                            <dd>{this.state.owner}</dd>\r\n                            <dt>等級</dt>\r\n                            <dd>{this.state.zombie.level}</dd>\r\n                            <dt>血量</dt>\r\n                            <dd>{this.state.zombie.hp}</dd>\r\n                            <dt>力量</dt>\r\n                            <dd>{this.state.zombie.str}</dd>\r\n                            <dt>防禦</dt>\r\n                            <dd>{this.state.zombie.def}</dd>\r\n                            <dt>敏捷</dt>\r\n                            <dd>{this.state.zombie.agi}</dd>\r\n                            <dt>獲勝次数</dt>\r\n                            <dd>{this.state.zombie.winCount}</dd>\r\n                            <dt>失敗次数</dt>\r\n                            <dd>{this.state.zombie.lossCount}</dd>\r\n                            <dt>冷卻時間</dt>\r\n                            <dd>{readyTime}</dd>\r\n                            <dt>餵食次數</dt>\r\n                            <dd>{this.state.zombieFeedTimes}</dd>\r\n                            \r\n                            <dt></dt>\r\n                            <dd>\r\n                                <AttackBtn></AttackBtn>\r\n                                <RenameArea></RenameArea>\r\n                                <FeedArea></FeedArea>\r\n                                <LevelupArea></LevelupArea>\r\n                                <SaleArea></SaleArea>\r\n                                <BuyArea></BuyArea>\r\n                            </dd>\r\n                        </dl>\r\n                    </div>\r\n                    <Route path=\"*\" component={Page}></Route>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Zombiedetail;","import React, { Component } from 'react';\r\nimport MyWeb3 from './MyWeb3'\r\nimport ZombiePreview from \"./ZombiePreview\"\r\nimport './static/ZombiePreview.css'\r\nimport moment from \"moment\"\r\n\r\nclass NewZombie extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const searchParams = new URLSearchParams(window.location.search)\r\n        const id = searchParams.get('id')   \r\n        this.state = {\r\n            targetId:id ,\r\n            targetZombie:{},\r\n            myZombies:[],\r\n            myZombie:{},\r\n            myZombieId:'',\r\n            active: {},\r\n            buttonTxt:'',\r\n            modalDisplay:'none',\r\n            transactionHash:'',\r\n            AttackBtn:()=>{\r\n                return( <button className=\"attack-btn\">\r\n                            <span role=\"img\" aria-label=\"zombie\">\r\n                                選擇一隻英雄攻擊！\r\n                            </span>\r\n                        </button>\r\n                )\r\n            }\r\n        }\r\n        this.selectZombie = this.selectZombie.bind(this)\r\n        this.zombieAttack = this.zombieAttack.bind(this)\r\n    }\r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                that.getZombie(that.state.targetId)\r\n                that.getMyZombies()\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    \r\n    getZombie(zombieId){\r\n        let that = this\r\n        MyWeb3.zombies(zombieId).then(function (result) {\r\n            that.setState({targetZombie:result})\r\n        })\r\n    }\r\n    getMyZombies(){\r\n        let that = this\r\n        MyWeb3.getZombiesByOwner().then(function(zombies){\r\n            if(zombies.length > 0){\r\n                for(let i=0;i<zombies.length;i++){\r\n                    MyWeb3.zombies(zombies[i]).then(function (result) {\r\n                        let _zombies = that.state.myZombies\r\n                        result.zombieId = zombies[i]\r\n                        if(result.readyTime === 0 || moment().format('X')>result.readyTime){\r\n                            _zombies.push(result)\r\n                        }\r\n                        that.setState({myZombies:_zombies})\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    selectZombie = index => {\r\n        var _active = this.state.active\r\n        var prev_active = _active[index]\r\n        for(var i=0;i<this.state.myZombies.length;i++){\r\n            _active[i] = 0\r\n        }\r\n        _active[index] = prev_active === 0 || prev_active === undefined ? 1 : 0\r\n        this.setState({\r\n            active:_active,buttonTxt:'用'+this.state.myZombies[index].name,\r\n            myZombie:this.state.myZombies[index],\r\n            myZombieId:this.state.myZombies[index].zombieId,\r\n            AttackBtn:()=>{\r\n                return( <button className=\"attack-btn\" onClick={this.zombieAttack}>\r\n                            <span role=\"img\">\r\n                                用{this.state.myZombies[index].name}攻擊！\r\n                            </span>\r\n                        </button>\r\n                )\r\n            }\r\n        })\r\n    }\r\n\r\n    zombieAttack(){\r\n        let that = this\r\n        if(this.state.myZombie !== undefined){\r\n            this.setState({modalDisplay:''})\r\n            MyWeb3.attack(this.state.myZombieId,this.state.targetId)\r\n            .then(function(transactionHash){\r\n                that.setState({\r\n                    transactionHash:transactionHash,\r\n                    AttackBtn : () =>{\r\n                    return(<div></div>)\r\n                    }\r\n                })\r\n            })\r\n        }\r\n    }\r\n    render() { \r\n        let AttackBtn = this.state.AttackBtn\r\n        if(this.state.myZombies.length>0) {\r\n            return ( \r\n                <div className=\"App zombie-attack\">\r\n                <div\r\n                    className=\"modal\"\r\n                    style={{\r\n                        display:this.state.modalDisplay\r\n                    }}\r\n                >\r\n                    <div className='battelArea'>\r\n                        <div className='targetZombie'>\r\n                            <ZombiePreview zombie={this.state.targetZombie}></ZombiePreview>\r\n                        </div>\r\n                        <div className='vs'>\r\n                            VS\r\n                        </div>\r\n                        <div className='myZombie'>\r\n                            <ZombiePreview zombie={this.state.myZombie}></ZombiePreview>\r\n                        </div>\r\n                    </div>\r\n                    <div><h2>{this.state.transactionHash}</h2></div>\r\n                </div>\r\n                    <div  className=\"row zombie-parts-bin-component\" >\r\n                        <div  className=\"game-card home-card target-card\" >\r\n                            <div className=\"zombie-char\">\r\n                                <ZombiePreview zombie={this.state.targetZombie}></ZombiePreview>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"zombie-detail\">\r\n                            <div className=\"flex\">\r\n                                {this.state.myZombies.map((item,index)=>{\r\n                                    var name = item.name\r\n                                    var level = item.level\r\n                                    return(\r\n                                        <div className=\"game-card home-card5 selectable\" key={index} active={this.state.active[index] || 0} onClick={() => this.selectZombie(index)} >\r\n                                            <div className=\"zombie-char\">\r\n                                            <ZombiePreview zombie={item}></ZombiePreview>\r\n                                                <div className=\"zombie-card card bg-shaded\">\r\n                                                    <div className=\"card-header bg-dark hide-overflow-text\">\r\n                                                        <strong>{name}</strong>\r\n                                                    </div>\r\n                                                    <small className=\"hide-overflow-text\">英雄LV{level}</small>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>  \r\n                                    )\r\n                                })}\r\n                            </div>\r\n                            <AttackBtn></AttackBtn>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }else{\r\n            return(\r\n                <div>沒有能攻擊的英雄</div>\r\n            )\r\n        }\r\n    }\r\n}\r\n \r\nexport default NewZombie;","import React, { Component } from 'react';\r\nimport MyWeb3 from './MyWeb3'\r\n\r\nclass ContractAdmin extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            contractAddress:'',\r\n            contractOwner:'',\r\n            ContractName:'',\r\n            ContractSymbol:'',\r\n            ContractBalance:'',\r\n            attackVictoryProbability:70,\r\n            levelUpFee:0,\r\n            minPrice:0,\r\n            tax:0,\r\n            zombiePrice:0\r\n        }\r\n        this.inputAttackVictoryProbability = this.inputAttackVictoryProbability.bind(this)\r\n        this.setAttackVictoryProbability = this.setAttackVictoryProbability.bind(this)\r\n        this.inputLevelUpFee = this.inputLevelUpFee.bind(this)\r\n        this.setLevelUpFee = this.setLevelUpFee.bind(this)\r\n        this.inputMinPrice = this.inputMinPrice.bind(this)\r\n        this.setMinPrice = this.setMinPrice.bind(this)\r\n        this.inputTax = this.inputTax.bind(this)\r\n        this.setTax = this.setTax.bind(this)\r\n        this.inputZombiePrice = this.inputZombiePrice.bind(this)\r\n        this.setZombiePrice = this.setZombiePrice.bind(this)\r\n        this.withdraw = this.withdraw.bind(this)\r\n    }\r\n    \r\n    componentDidMount(){\r\n        let that = this\r\n        let ethereum = window.ethereum\r\n        if (typeof  ethereum !== 'undefined' || (typeof window.web3 !== 'undefined')) {\r\n            MyWeb3.init().then(function(res){\r\n                // console.log(window.web3)\r\n                // console.log(ethereum)\r\n                // console.log(window.MyContract)\r\n                MyWeb3.owner().then(function (contractOwner) {\r\n                    if(window.defaultAccount === contractOwner){\r\n                        that.setState({contractOwner:contractOwner})\r\n                        that.getContractName()\r\n                        that.getContractSymbol()\r\n                        that.checkBalance()\r\n                        that.levelUpFee()\r\n                        that.minPrice()\r\n                        that.tax()\r\n                        that.zombiePrice()\r\n                        that.setState({\r\n                            contractAddress:window.MyContract._address\r\n                        })\r\n                    }\r\n                })\r\n            })\r\n        }else {\r\n            alert('You have to install MetaMask !')\r\n        }\r\n    }\r\n    getContractName(){\r\n        let that = this\r\n        MyWeb3.name().then(function (name) {\r\n            that.setState({ContractName:name})\r\n        })\r\n    }\r\n    getContractSymbol(){\r\n        let that = this\r\n        MyWeb3.symbol().then(function (symbol) {\r\n            that.setState({ContractSymbol:symbol})\r\n        })\r\n    }\r\n    checkBalance(){\r\n        let that = this\r\n        MyWeb3.checkBalance().then(function (balance) {\r\n            that.setState({ContractBalance:balance})\r\n        })\r\n    }\r\n    withdraw(){\r\n        let that = this\r\n        MyWeb3.withdraw().then(function (res) {\r\n            that.checkBalance()\r\n        })\r\n    }\r\n    setAttackVictoryProbability(){\r\n        MyWeb3.setAttackVictoryProbability(this.state.attackVictoryProbability).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputAttackVictoryProbability(event){\r\n        this.setState({\r\n            attackVictoryProbability:event.target.value\r\n        })\r\n    }\r\n    levelUpFee(){\r\n        let that = this\r\n        MyWeb3.levelUpFee().then(function (levelUpFee) {\r\n            that.setState({levelUpFee:levelUpFee})\r\n        })\r\n    }\r\n    setLevelUpFee(){\r\n        MyWeb3.setLevelUpFee(this.state.levelUpFee).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputLevelUpFee(event){\r\n        this.setState({\r\n            levelUpFee:event.target.value\r\n        })\r\n    }\r\n    minPrice(){\r\n        let that = this\r\n        MyWeb3.minPrice().then(function (minPrice) {\r\n            that.setState({minPrice:minPrice})\r\n        })\r\n    }\r\n    setMinPrice(){\r\n        MyWeb3.setMinPrice(this.state.minPrice).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputMinPrice(event){\r\n        this.setState({\r\n            minPrice:event.target.value\r\n        })\r\n    }\r\n    tax(){\r\n        let that = this\r\n        MyWeb3.tax().then(function (tax) {\r\n            that.setState({tax:tax})\r\n        })\r\n    }\r\n    setTax(){\r\n        MyWeb3.setTax(this.state.tax).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputTax(event){\r\n        this.setState({\r\n            tax:event.target.value\r\n        })\r\n    }\r\n    zombiePrice(){\r\n        let that = this\r\n        MyWeb3.zombiePrice().then(function (zombiePrice) {\r\n            that.setState({zombiePrice:zombiePrice})\r\n        })\r\n    }\r\n    setZombiePrice(){\r\n        MyWeb3.setZombiePrice(this.state.zombiePrice).then(function (res) {\r\n            console.log(res)\r\n            window.location.reload()\r\n        })\r\n    }\r\n    inputZombiePrice(event){\r\n        this.setState({\r\n            zombiePrice:event.target.value\r\n        })\r\n    }\r\n\r\n\r\n    render() { \r\n        if(window.defaultAccount === this.state.contractOwner){\r\n            return ( \r\n                <div className='contract-admin'>\r\n                    <dl>\r\n                        <dt>合約地址</dt>\r\n                        <dd className='lowcase'>{this.state.contractAddress}</dd>\r\n                        <dt>管理员</dt>\r\n                        <dd className='lowcase'>{this.state.contractOwner}</dd>\r\n                        <dt>合約名稱</dt>\r\n                        <dd>{this.state.ContractName}</dd>\r\n                        <dt>合約標示</dt>\r\n                        <dd>{this.state.ContractSymbol}</dd>\r\n                        <dt>合約餘額</dt>\r\n                        <dd>\r\n                            {this.state.ContractBalance}\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.withdraw}>\r\n                                <span>\r\n                                    提款\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>對戰勝率</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='attackVictoryProbability'\r\n                                value={this.state.attackVictoryProbability}\r\n                                onChange={this.inputAttackVictoryProbability}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setAttackVictoryProbability}>\r\n                                <span>\r\n                                    設置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>升級費用</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='levelUpFee'\r\n                                value={this.state.levelUpFee}\r\n                                onChange={this.inputLevelUpFee}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setLevelUpFee}>\r\n                                <span>\r\n                                    設置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>最低售價</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='minPrice'\r\n                                value={this.state.minPrice}\r\n                                onChange={this.inputMinPrice}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setMinPrice}>\r\n                                <span>\r\n                                    設置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>稅金</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='tax'\r\n                                value={this.state.tax}\r\n                                onChange={this.inputTax}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setTax}>\r\n                                <span>\r\n                                    設置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                        <dt>英雄售價</dt>\r\n                        <dd>\r\n                            <input \r\n                                type=\"text\" \r\n                                id='zombiePrice'\r\n                                value={this.state.zombiePrice}\r\n                                onChange={this.inputZombiePrice}>\r\n                            </input>\r\n                            <button className=\"pay-btn pay-btn-last\" onClick={this.setZombiePrice}>\r\n                                <span>\r\n                                    設置\r\n                                </span>\r\n                            </button>\r\n                        </dd>\r\n                    </dl>\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n}\r\n \r\nexport default ContractAdmin;","import React, { Component } from 'react';\r\nimport  ZombieArmy  from \"./ZombieArmy\"\r\nimport  MyZombie  from \"./MyZombie\"\r\nimport  ZombieMarket  from \"./ZombieMarket\"\r\nimport  ZombieSimulator  from \"./ZombieSimulator\"\r\nimport ZombieDetail from \"./ZombieDetail\";\r\nimport ZombieAttack from \"./ZombieAttack\";\r\nimport ContractAdmin from \"./ContractAdmin\"\r\n\r\nclass Page extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {page:'',id:0 }\r\n    }\r\n    componentDidMount(){\r\n        let search = this.props.location.search.replace(/\\?/,'').split(\"&\")\r\n        let page = search[0]\r\n        this.setState({page:page})\r\n    }\r\n    UNSAFE_componentWillReceiveProps(nextProps){\r\n        if(nextProps!==this.props){\r\n            this.setState({nextProps})\r\n            let search = nextProps.location.search.replace(/\\?/,'').split(\"&\")\r\n            let page = search[0] === '' ?  'ZombieArmy' : search[0]\r\n            this.setState({page:page})\r\n            return true\r\n        }else{\r\n            return false\r\n        }\r\n    }\r\n    render() { \r\n        switch (this.state.page){\r\n            case 'ZombieArmy':\r\n                return(<ZombieArmy></ZombieArmy>)\r\n            case 'MyZombie':\r\n                return(<MyZombie></MyZombie>)\r\n            case 'ZombieMarket':\r\n                return(<ZombieMarket></ZombieMarket>)\r\n            case 'ZombieSimulator':\r\n                return(<ZombieSimulator></ZombieSimulator>)\r\n            case 'ZombieDetail':\r\n                return(<ZombieDetail></ZombieDetail>)\r\n            case 'ZombieAttack':\r\n                return(<ZombieAttack></ZombieAttack>)\r\n            case 'ContractAdmin':\r\n                return(<ContractAdmin></ContractAdmin>)\r\n            default:\r\n                return(<ZombieArmy></ZombieArmy>)\r\n        }\r\n    }\r\n}\r\n \r\nexport default Page;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './static/Index.css'\nimport  App  from './App';\nrequire('events').EventEmitter.prototype._maxListeners = 100;\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}